import{_ as u,c as o,o as n,a as m,t as h,w as p,b as i,v as a}from"./wizrobe.js";const d={data(){return{email:null,pw:null,err:null,sent:!1}},mounted(){this.listen("register-sent",this.onRegister,this),this.listen("register-error",this.onError,this)},beforeUnmount(){this.removeListener("register-sent",this.onRegister,this),this.removeListener("register-error",this.onError,this)},methods:{register(){this.email?this.pw?(this.dispatch("try-register",this.email,this.pw),this.email=null):this.err="password required":this.err="Email required"},onRegister(){this.err=`Confirmation email sent.
Check any junk-mail folders.`},onError(s){console.dir(s),this.err=s.message}}},g={class:"popup"},c={key:0},f={key:1};function v(s,e,w,y,t,l){return n(),o("div",g,[t.err?(n(),o("div",c,h(t.err),1)):m("",!0),t.sent?m("",!0):(n(),o("div",f,[p(i("input",{type:"email",placeholder:"email@email.com","onUpdate:modelValue":e[0]||(e[0]=r=>t.email=r)},null,512),[[a,t.email]]),p(i("input",{type:"password",placeholder:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.pw=r)},null,512),[[a,t.pw]]),i("input",{type:"submit",value:"register",onClick:e[2]||(e[2]=(...r)=>l.register&&l.register(...r))}),i("button",{type:"button",onClick:e[3]||(e[3]=r=>s.$emit("close"))},"cancel")]))])}const _=u(d,[["render",v]]);export{_ as default};
