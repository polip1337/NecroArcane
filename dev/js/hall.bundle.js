import{_ as b,z as M,c as l,o as a,b as n,a as c,t as o,e as u,n as _,g as N,h as O,I as D,F as v,r as f,L as I,m as g,k as S,w as T,v as B,u as U,D as m,ah as x,f as C}from"./wizrobe.js";const H={props:["char","active"],computed:{rollOver(){},empty(){return this.char.empty},level(){return this.char.level},gclass(){return this.char.gclass},fame(){return M(this.char.fame)}}},L=e=>(N("data-v-ebd92fa0"),e=e(),O(),e),V={key:0,class:"char-stats"},$={class:"fld-name"},z={key:0},E={key:1},j={key:2},A={key:3},F={key:1,class:"char-stats"},P=L(()=>n("span",{class:"fld-name"},"Chair Empty",-1)),X=[P],Y={class:"buttons"},q={key:0},G={key:1};function J(e,s,i,k,y,t){return a(),l("div",{class:_(["char-info",t.empty?"empty":""])},[t.empty?(a(),l("div",F,X)):(a(),l("div",V,[n("span",$,o(i.char.name)+" "+o(i.char.name==" "?"The":"the")+" "+o(i.char.title),1),t.gclass?(a(),l("span",z,o(t.gclass.toString().toTitleCase()),1)):c("",!0),t.level>0?(a(),l("span",E,"Level "+o(t.level),1)):c("",!0),i.char.fame>0?(a(),l("span",j,"Notoriety: "+o(t.fame),1)):c("",!0),i.char.titles>0?(a(),l("span",A,"Titles: "+o(i.char.titles),1)):c("",!0)])),n("div",Y,[i.active?c("",!0):(a(),l("button",{key:0,type:"button",class:"enter",onClick:s[0]||(s[0]=r=>e.$emit("load",i.char)),onMouseenterCapture:s[1]||(s[1]=u(r=>e.itemOver(r,t.rollOver),["stop"]))},[t.empty?(a(),l("span",q,"Begin")):(a(),l("span",G,"Awaken"))],32)),!i.active&&!t.empty?(a(),l("button",{key:1,type:"button",class:"dismiss",onClick:s[2]||(s[2]=r=>e.$emit("dismiss",i.char))}," Dismiss ")):c("",!0)])],2)}const K=b(H,[["render",J],["__scopeId","data-v-ebd92fa0"]]),Q={computed:{hallUpgrades(){return Object.values(this.items).filter(e=>!e.disabled&&e.value>=e.max)}},props:["items"],mixins:[D],methods:{clickHandler(e){e.canUse()&&this.emit("upgrade",e)}}},R={class:"upgrades"},W=["data-key","onMouseenterCapture","onClick"],Z=n("span",null,"Maxed upgrades :",-1),ee={class:"upgrades"},te=["onMouseenterCapture"];function se(e,s,i,k,y,t){return a(),l("div",null,[n("div",R,[(a(!0),l(v,null,f(i.items,r=>(a(),l("button",{type:"button",class:_({"task-btn":!0,hidable:!1,locked:e.locked(r)||r.owned&&!r.repeat,running:!1,runnable:!1,disabled:!r.canUse()}),"data-key":r.id,key:r.id,onMouseenterCapture:u(h=>e.itemOver(h,r),["stop"]),onClick:h=>t.clickHandler(r)},o(r.name),43,W))),128))]),Z,n("div",ee,[(a(!0),l(v,null,f(t.hallUpgrades,r=>(a(),l("button",{type:"button",class:_({"task-btn":!0,hidable:!1,locked:!1,running:!1,runnable:!1,disabled:!0}),key:r.id+".maxed",onMouseenterCapture:u(h=>e.itemOver(h,r),["stop"])},o(r.name),41,te))),128))])])}const ae=b(Q,[["render",se]]),re={emits:["close"],components:{info:K,upgrades:ae},data(){return{chars:m.hall.chars,hName:m.hall.name}},mounted(){C(this.$el)},updated(){C(this.$el)},methods:{formatNumber:I,load(e){this.$emit("close"),this.dispatch("set-char",e)},dismiss(e,s){this.emit("warn",`Dismiss ${s}`,()=>{this.dispatch("dismiss-char",e)})},warnDone(e,s){e&&this.dispatch("set-char",s)}},computed:{hall(){return m.hall},availChars(){return m.hall.getChars()},prestige(){const e=this.hall.prestige.valueOf();return this.dispatch(x,"prestige",e),e},probedepth(){return this.hall.items.hall_probedepth},hallName:{get(){return this.hName},set(e){e&&m.setHallName(e),this.hName=e}}}},le=e=>(N("data-v-56aca45b"),e=e(),O(),e),ne={class:"popup wizhall"},ie={class:"separate"},de={class:"flex-col"},oe={class:"header"},ce={class:"text-button"},he=le(()=>n("div",null,null,-1)),ue={class:"chars"};function me(e,s,i,k,y,t){const r=g("info"),h=g("upgrades");return a(),l("div",ne,[n("div",ie,[n("div",de,[n("div",{onMouseenterCapture:s[0]||(s[0]=u(d=>e.itemOver(d,t.hall.prestige),["stop"]))}," Hall Prestige: "+o(t.formatNumber(t.prestige)),33),t.probedepth.valueOf()?(a(),l("div",{key:0,onMouseenterCapture:s[1]||(s[1]=u(d=>e.itemOver(d,t.probedepth),["stop"]))}," Dimensions probed: "+o(t.formatNumber(t.probedepth.valueOf())),33)):c("",!0)]),n("div",oe,[T(n("input",{class:"fld-name text-entry",type:"text","onUpdate:modelValue":s[2]||(s[2]=d=>t.hallName=d)},null,512),[[B,t.hallName]]),n("div",ce,[n("a",{href:"",onClick:s[3]||(s[3]=u(d=>e.dispatch("hall-file",d),["self","prevent"])),type:"text/json"},"Hall Save")])]),he]),n("div",ue,[(a(!0),l(v,null,f(t.availChars,(d,p)=>(a(),U(r,{char:d,active:p==t.hall.curSlot,key:p,onLoad:w=>t.load(p),onDismiss:w=>t.dismiss(p,d.name)},null,8,["char","active","onLoad","onDismiss"]))),128))]),S(h,{items:t.hall.upgrades},null,8,["items"]),n("div",{class:"popup-close",onClick:s[4]||(s[4]=d=>e.$emit("close"))},"X")])}const _e=b(re,[["render",me],["__scopeId","data-v-56aca45b"]]);export{_e as default};
