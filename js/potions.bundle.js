const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/inventory.bundle.js","js/wizrobe.js","assets/wizrobe.css","js/filterbox.bundle.js","assets/filterbox.css","assets/inventory.css"])))=>i.map(i=>d[i]);
import{_ as m,y as p,I as h,c as l,o as u,k as y,b as d,m as _,F as b,r as v,T as w,G as f,e as k,t as g}from"./wizrobe.js";import{F as P}from"./filterbox.bundle.js";const B={mixins:[h],data(){return{filtered:null}},components:{inv:()=>p(()=>import("./inventory.bundle.js"),__vite__mapDeps([0,1,2,3,4,5])),filterbox:P},beforeCreate(){this.game=f},methods:{searchPotion(e,r){const t=r.split("|");for(let s=0;s<t.length;s++){if(t[s].length==0)continue;const o=t[s].split(" ");let i=!0;for(let a=0;a<o.length;a++){if(o[a].length==0)continue;const n=o[a].replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");if(!this.crawlPotion(e,new RegExp(n,"i"))){i=!1;break}}if(i)return!0}return!1},crawlPotion(e,r){if(e.template)return this.crawlTemplate(e.template,r);const t=e.items;for(let s=0;s<t.length;s++)if(this.crawlPotion(t[s],r))return!0;return!1},crawlTemplate(e,r){if(e.dot&&r.test("buffs")||e.summon&&r.test("summons"))return!0;if(e.cost){for(let t in e.cost)if(this.crawlProperty(t,r))return!0}for(let t in e)if(!(t=="desc"||t=="flavor"||t=="require"||t=="buy"||t=="cost"||t=="need"||t=="needtext")&&this.crawlProperty(e[t],r))return!0;return!1},crawlObject(e,r){for(let t in e)if(this.crawlProperty(t,r)||this.crawlProperty(e[t],r))return!0;return!1},crawlProperty(e,r){const t=typeof e;if(t=="object"||t=="array")return this.crawlObject(e,r);t!="string"&&(e=e.toString());const s=e.split(/\.|=|<|>|!|,|&&|\|\||\(|\)|\+|\-|'/);for(let o=0;o<s.length;o++){const i=s[o];if(!/^[0-9\*\~\%]*$/.test(i)){if(/^[a-zA-Z0-9_ ]*$/.test(i)){const a=f.state.getData(i);if(a){if(r.test(a.name))return!0;continue}}if(r.test(i))return!0}}return!1}},computed:{potions(){return f.state.potions.filter(e=>!this.locked(e))},BUY(){return w}}},C={class:"potions"},T={class:"potion-col"},V=["onMouseenterCapture"],M=["disabled","onClick"],U=["disabled","onClick"];function E(e,r,t,s,o,i){const a=_("filterbox");return u(),l("div",C,[y(a,{modelValue:o.filtered,"onUpdate:modelValue":r[0]||(r[0]=n=>o.filtered=n),items:i.potions,prop:i.searchPotion},null,8,["modelValue","items","prop"]),d("div",T,[(u(!0),l(b,null,v(o.filtered,n=>(u(),l("div",{class:"separate",key:"sect-pot-"+n.id,onMouseenterCapture:k(c=>e.itemOver(c,n),["stop"])},[d("span",null,g(n.name.toTitleCase()),1),n.buy&&!n.owned?(u(),l("button",{key:0,type:"button",disabled:!n.canBuy(e.game)||e.game.state.inventory.full()&&!e.game.state.inventory.findMatch(n),onClick:c=>e.emit(i.BUY,n)}," ðŸ”’ ",8,M)):(u(),l("button",{key:1,type:"button",disabled:!n.canUse()||e.game.state.inventory.full()&&!e.game.state.inventory.findMatch(n),onClick:c=>e.emit("craft",n)}," Brew ",8,U))],40,V))),128))])])}const O=m(B,[["render",E],["__scopeId","data-v-1b9d6b9c"]]);export{O as default};
